<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  
  <h1>예외 발생</h1>
  <button id="throwExBtn">에외발생버튼</button>
  <p id="text"></p>


  <script>
    const btn = document.getElementById("throwExBtn");

    btn.addEventListener("click", () =>{
      try{
        throw new Error("에러");

      }catch{err}{
        document.getElementById("text").innerHTML = err.name + "<br>";
        document.getElementById("text").innerHTML += err.message;
        
      }
    })
    //Promise.all()배열,map,set에 포함된 여러개의 프로미스 요소들을 한꺼번에 비동기 처리해야할때 ㅠ유용
    
    const api_1 = fetch("https://jsonplaceholder.typicode.com/users")
    const api_2 = fetch("https://jsonplaceholder.typicode.com/users")
    const api_3 = fetch("https://jsonplaceholder.typicode.com/users")

    const pormises = [ api_1,api_2,api_3];

    Promise.all(promises)
    .then((result) =>{
      console.log(result);
    })
    .catch((error) =>{
      console.log(error);
    })

    // Promise.any() 주어진 모든 프로미스 중 하나라도 완료되면 바로 반환하는 정적 메소드
    const promise1 = new Promise((resolve, reject) =>{
      setTimeout(() =>{
        reject("promise1 failed")
      },3000)
    })
    const promise2 = new Promise((resolve, reject) =>{
      setTimeout(() =>{
        resolve("promise2 succeed")
      },2000)
    })
    const promise3 = new Promise((resolve, reject) =>{
      setTimeout(() =>{
        reject("promise3 failed")
      },1000)
    })

    Promise.any(promise1,promise2,promise3)

  </script>
</body>
</html>
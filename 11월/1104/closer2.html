<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  

  <script>
    let num = 0;
    // const increase = function(){
    //   //카운트 상태를 1만큼 증가
    //   return ++num;
    // }

    // console.log(increase());
    // console.log(increase());
    // console.log(increase());

    //함수형 프로그래밍에서 클로저를 활용하는 예제
    //함수를 반환하는 고차 함수

    
    const counter = (function(){
      let counter =0

      return function(aux){
        //인수로 전달받은 보조 함수에 상태 변경을 위임한다.
        counter = aux(counter);
        return counter;
      }
   // ↓ 즉시실행 함수
    }())
    
//보조함수

    function increase1(n){
      return ++n //인자로 전달받은 n에 1을 증가시켜 호출한 곳으로 리턴
    }

    function decrease(n){
      return --n //인자로 전달받은 n에 1을 증가시켜 호출한 곳으로 리턴
    }

    console.log(counter(increase1));
  </script>

</body>
</html>
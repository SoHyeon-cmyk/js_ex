<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  
<script>
  const x = 1;
function foo() {
  const x = 10;
  // 상위 스코프는 함수 정의 환경(위치)에 따라 결정된다.
  // 함수 호출 위치와 상위 스코프는 아무런 관계가 없다.
  bar();
}
// 함수 bar는 자신의 상위 스코프, 즉 전역 렉시컬 환경을 [[Environment]]에 저장하여 기억한다.
function bar() {
  console.log(x)
}

//결과로 둘다 전역변수x에 할당한 값인 1이 출력됨
foo();
bar();

function outer(){
  const x = 20;
  const inner = function(){console.log(x);};
  return inner;
}

const innerFunc = outer; //아우터 함수는 중첩함수 이너를 반환하고 실행 컨텍스트 스택에서 제거

innerFunc();//아우터 함수의 지역변수 x인 20이다.
</script>

</body>
</html>